<div class="file-upload-container">
  @if (this.fileToUpload != undefined) {
  <div class="drop-zone" [class.drag-over]="isDragOver()" [class.uploading]="isUploading()"
    (dragover)="onDragOver($event)" (dragleave)="onDragLeave($event)" (drop)="onDrop($event)"
    (click)="fileInput.click()">

    <div class="drop-zone-content">
      @if (isUploading()) {
      <div class="upload-spinner"></div>
      <p class="upload-text">Uploading...</p>
      } @else {
      <div class="upload-icon">📁</div>
      <p class="upload-text">
        @if (this.message != undefined) {
          <span>{{ message.Name }}</span>
        } @else {
          <span>Drop your file here or</span>
        }
        <span class="click-text">&nbsp;click to browse</span>
      </p>
      }
    </div>

    <input #fileInput type="file" class="file-input" (change)="onFileSelected($event)" hidden>
  </div>

  @if (uploadStatus()) {
  <div class="status-message" [class.success]="!isUploading()">
    {{ uploadStatus() }}
  </div>
  }
  }

</div>